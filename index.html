<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Web Page</title>
    <script>
        const apiUrl = "http://localhost:8000/api/value";

        function updateValue() {
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("value").innerHTML = data.intValue;
                });
        }

        function setValue() {
            const newValue = document.getElementById("new-value").value;
            const requestBody = new URLSearchParams();
            requestBody.append("value", newValue);

            fetch(apiUrl + "/set", {
                method: "POST",
                body: requestBody
            })
                .then(response => response.json())
                .then(data => {
                    document.getElementById("value").innerHTML = data.intValue;
                });

            document.getElementById("new-value").value = "";
        }

        function resetValue() {
            fetch(apiUrl + "/reset", { method: "POST" })
                .then(response => response.json())
                .then(data => {
                    document.getElementById("value").innerHTML = data.intValue;
                });
        }

        setInterval(updateValue, 1000);
    </script>
</head>
<body>
<h1>My Web Page</h1>
<p>Integer Value: <span id="value">0</span></p>
<label for="new-value">Set Value:</label>
<input type="text" id="new-value" value="">
<button onclick="setValue()">Set</button>
<button onclick="resetValue()">Reset</button>
</body>
</html>
